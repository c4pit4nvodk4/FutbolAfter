<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Patagonia Sport After</title>
    <link href="/ICON.png" rel="icon" />
  <style>
    :root{ --width:1280px; --height:720px; }
    body{ font-family: Arial, Helvetica, sans-serif; background:#f4f4f4; margin:0; padding:20px; box-sizing:border-box; }
    h1{ text-align:center; margin:0 0 12px 0; }
    /* Stage */
    .stage-wrapper{ display:flex; justify-content:center; }
    .stage{ width:var(--width); height:var(--height); background:#00cc00; position:relative; overflow:hidden; box-shadow:0 6px 20px rgba(0,0,0,.2); max-width:100%; }

    /* Left column */
    .left-col{ position:absolute; left:0; top:0; width:413px; padding:8px; box-sizing:border-box; display:flex; flex-direction:column; gap:8px; }
    .card{ border-radius:6px; padding:6px; box-sizing:border-box; background:linear-gradient(180deg,#43a6b0 0%, #33295f 100%); color:#fff; text-align:center; }

    .time-card{ height:98px; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:32px; }
    .images-card{ height:301px; display:flex; align-items:center; justify-content:center; position:relative; overflow:hidden; }
    .images-card img{ max-width:80%; max-height:80%; position:absolute; opacity:0; transition:opacity .10s ease; left:50%; transform:translateX(-50%); }
    .images-card img.active{ opacity:1; }

    .small-card{ height:35px; font-weight:700; font-size:24px; display:flex; align-items:center; justify-content:center; }
    .small-marquee{ overflow:hidden; position:relative; height:20px; }
    .small-marquee .marq-text{ position:absolute; white-space:nowrap; font-weight:700; font-size:15px; left:100%; }

    /* Center-right area placeholder (visual spacing) */
    .center-area{ position:absolute; left:433px; right:0; top:0; bottom:130px; display:flex; align-items:center; justify-content:center; }
    .center-placeholder{ color:#fff; font-weight:700; font-size:28px; text-shadow:0 2px 6px rgba(0,0,0,.3); }

    /* Barra Americana and Marquesina (bottom) */
    .bottom-area{ position:absolute; left:0; right:0; bottom:0; display:flex; flex-direction:column; align-items:center; }
    .barra-americana{ width:1280px; height:100px; display:flex; align-items:center; justify-content:center; background:linear-gradient(90deg,#43a6b0 0%, #33295f 100%); box-sizing:border-box; }
    .barra-americana .text{ color:#fff; font-weight:700; font-family:Arial; font-size:28px; text-align:center; }
    .marquesina{ width:1280px; height:30px; background:#fff; display:flex; align-items:center; overflow:hidden; box-sizing:border-box; }
    .marquesina .marq-inner{ white-space:nowrap; display:inline-block; font-weight:700; font-family:Arial; color:#000; }

    /* Editor */
    .editor{ max-width:1280px; margin:18px auto 0; background:#fff; padding:12px; border-radius:8px; box-shadow:0 6px 12px rgba(0,0,0,.08); box-sizing:border-box; }
    .editor-grid{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
    .editor .block{ border:1px solid #e6e6e6; padding:10px; border-radius:6px; }
    .editor label{ display:block; font-weight:700; margin-bottom:6px; }
    .editor input[type=text], .editor textarea{ width:100%; padding:8px; box-sizing:border-box; border:1px solid #ccc; border-radius:4px; }
    .editor button{ margin-top:8px; padding:8px 10px; cursor:pointer; border-radius:4px; border:0; background:#007bff; color:#fff; font-weight:700; }

    /* Responsive editor */
    @media (max-width:980px){
      .editor-grid{ grid-template-columns:1fr; }
      .stage{ transform:scale(.8); transform-origin:top center; }
    }

    @media (max-width:640px){ .stage{ transform:scale(.6);} }
  </style>
</head>
<body>
  
  <div class="stage-wrapper">
    <div class="stage" id="stage">

      <!-- LEFT COLUMN -->
      <div class="left-col">
        <div class="card time-card" id="timeDisplay">00:00:00</div>
        <div class="card images-card" id="imagesCard">
          <!-- Images will be added here -->
        </div>
        <div class="card small-card" id="avsB">A VS B</div>
        <div class="card small-card" id="lugar">LUGAR ESTADIO</div>
        <div class="card small-card" id="fecha">Fecha de Hoy</div>
        <div class="card small-card small-marquee">
          <div class="marq-text" id="leftMarquee">Somos el canal Patagonia Sport, Siguenos a traves de nuestras redes sociales, Instagram, Facebook, tiktok y Twitch y ve nuestras ultimas noticias, nuevas transmisiones y todo el contenido de nuestras transmisiones pasadas, Patagonia Sport el canal que apoya al deporte regional</div>
        </div>
      </div>

      <!-- CENTER AREA (visual placeholder) -->
      <div class="center-area">
        <div class="center-placeholder"></div>
      </div>

      <!-- BOTTOM AREA -->
      <div class="bottom-area">
        <div class="barra-americana" id="barraAmericana"><div class="text" id="barraText">Texto Barra Americana</div></div>
        <div class="marquesina" id="marquesinaWrap"><div style="padding-left:10px;" class="marq-inner" id="marqText">Texto marquesina de ejemplo que se desplazará de derecha a izquierda.</div></div>
      </div>

    </div>
  </div>

  <!-- EDITOR -->
  <div class="editor" id="editor">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
      <strong>Editor</strong>
      <small style="opacity:.6;">Todos los cambios se verán en la vista previa superior</small>
    </div>

    <div class="editor-grid">
      <div class="block">
        <label>Mini Barra Americana (inferior) - Movimiento</label>
        <input type="text" id="inputMarq" placeholder="Escribe la marquesina..." />
        <button id="addMarq">Agregar</button>
      </div>

      <div class="block">
        <label>Barra Americana (Superior) - texto</label>
        <input type="text" id="inputBarra" placeholder="Escribe texto Barra Americana..." />
        <button id="addBarra">Agregar</button>
      </div>

      <div class="block">
        <label>Hora (se actualizará en tiempo real) — formato 24h</label>
        <div style="display:flex; gap:8px; align-items:center;"><input type="text" id="timeFormat" placeholder="Opcional: 00:00:00"/><button id="forceTime">Agregar/Forzar</button></div>
      </div>

      <div class="block">
        <label>Equipo A VS Equipo B (texto)</label>
        <input type="text" id="inputAVSB" placeholder="A VS B..." />
        <button id="addAVSB">Agregar</button>
      </div>

      <div class="block">
        <label>LUGAR ESTADIO (texto)</label>
        <input type="text" id="inputLugar" placeholder="Lugar / Estadio..." />
        <button id="addLugar">Agregar</button>
      </div>

      <div class="block">
        <label>Fecha de Hoy (texto) Esta Agregado Automaticamente</label>
        <input type="text" id="inputFecha" placeholder="Fecha..." />
        <button id="addFecha">Agregar</button>
      </div>

      <div class="block" style="grid-column:1 / -1;">
        <label>Imágenes (imagen 1 - imagen 6). Selecciona una imagen y presiona el botón correspondiente para agregarla a la galería.</label>
        <div style="display:flex; gap:6px; flex-wrap:wrap;">
          <div style="flex:1 1 30%; min-width:140px;">
            <input type="file" accept="image/*" id="img1" />
            <button data-index="0" class="add-img">Agregar Imagen 1</button>
          </div>
          <div style="flex:1 1 30%; min-width:140px;">
            <input type="file" accept="image/*" id="img2" />
            <button data-index="1" class="add-img">Agregar Imagen 2</button>
          </div>
          <div style="flex:1 1 30%; min-width:140px;">
            <input type="file" accept="image/*" id="img3" />
            <button data-index="2" class="add-img">Agregar Imagen 3</button>
          </div>
          <div style="flex:1 1 30%; min-width:140px;">
            <input type="file" accept="image/*" id="img4" />
            <button data-index="3" class="add-img">Agregar Imagen 4</button>
          </div>
          <div style="flex:1 1 30%; min-width:140px;">
            <input type="file" accept="image/*" id="img5" />
            <button data-index="4" class="add-img">Agregar Imagen 5</button>
          </div>
          <div style="flex:1 1 30%; min-width:140px;">
            <input type="file" accept="image/*" id="img6" />
            <button data-index="5" class="add-img">Agregar Imagen 6</button>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    // Time
    const timeDisplay = document.getElementById('timeDisplay');
    function updateTime(){
      const d = new Date();
      const hh = String(d.getHours()).padStart(2,'0');
      const mm = String(d.getMinutes()).padStart(2,'0');
      const ss = String(d.getSeconds()).padStart(2,'0');
      timeDisplay.textContent = `${hh}:${mm}:${ss}`;
    }
    setInterval(updateTime, 1000);
    updateTime();

    // Marquesina (inferior)
    const marqText = document.getElementById('marqText');
    const inputMarq = document.getElementById('inputMarq');
    document.getElementById('addMarq').addEventListener('click', ()=>{
      marqText.textContent = inputMarq.value || ' ';
      restartMarqAnim();
    });

    // Barra Americana
    const barraText = document.getElementById('barraText');
    const inputBarra = document.getElementById('inputBarra');
    document.getElementById('addBarra').addEventListener('click', ()=>{
      barraText.textContent = inputBarra.value || '';
    });

    // A vs B, Lugar, Fecha
    document.getElementById('addAVSB').addEventListener('click', ()=>{ document.getElementById('avsB').textContent = document.getElementById('inputAVSB').value || ''; });
    document.getElementById('addLugar').addEventListener('click', ()=>{ document.getElementById('lugar').textContent = document.getElementById('inputLugar').value || ''; });
    document.getElementById('addFecha').addEventListener('click', ()=>{ document.getElementById('fecha').textContent = document.getElementById('inputFecha').value || ''; });

    // Left small marquee animation (simple JS loop)
    const leftMarq = document.getElementById('leftMarquee');
    let leftPos = 0; let leftWidth = 0; let leftWrapWidth = 413;
    function startLeftMarq(){
      cancelAnimationFrame(leftMarq._raf || 0);
      leftPos = leftWrapWidth;
      leftWidth = leftMarq.offsetWidth;
      function step(){
        leftPos -= 1; // speed
        if(leftPos < -leftWidth) leftPos = leftWrapWidth;
        leftMarq.style.left = leftPos + 'px';
        leftMarq._raf = requestAnimationFrame(step);
      }
      step();
    }
    startLeftMarq();

    // Bottom marquesina using CSS animation (we'll recreate via JS to handle dynamic width)
    const marqWrap = document.getElementById('marquesinaWrap');
    let marqAnimId = null;
    function restartMarqAnim(){
      cancelAnimationFrame(marqAnimId);
      const item = marqText;
      let pos = marqWrap.clientWidth;
      function step(){
        pos -= 2; // speed
        if(pos < -item.offsetWidth) pos = marqWrap.clientWidth;
        item.style.transform = `translateX(${pos}px)`;
        marqAnimId = requestAnimationFrame(step);
      }
      step();
    }
    // initialize
    marqText.style.display = 'inline-block';
    restartMarqAnim();

    // Images carousel logic (6 possible images)
    const imagesCard = document.getElementById('imagesCard');
    const imageFiles = [null,null,null,null,null,null];
    const imgElements = [];
    let currentImg = -1;
    function createImgElement(src){
      const img = document.createElement('img'); img.src = src; return img;
    }
    function refreshImagesCard(){
      imagesCard.innerHTML = '';
      imgElements.length = 0;
      imageFiles.forEach((src, i)=>{ if(src){ const img = createImgElement(src); img.dataset.index = i; imagesCard.appendChild(img); imgElements.push(img); } });
      // start carousel
      if(imgElements.length>0){ currentImg = -1; showNextImg(); }
    }
    function showNextImg(){
      if(imgElements.length===0) return;
      if(currentImg>=0) imgElements[currentImg].classList.remove('active');
      currentImg = (currentImg + 1) % imgElements.length;
      imgElements[currentImg].classList.add('active');
      setTimeout(showNextImg, 3000);
    }

    document.querySelectorAll('.add-img').forEach(btn =>{
      btn.addEventListener('click', ()=>{
        const idx = Number(btn.dataset.index);
        const fileInput = document.getElementById('img'+(idx+1));
        const f = fileInput.files[0];
        if(!f) return alert('Por favor selecciona una imagen para Imagen ' + (idx+1));
        const reader = new FileReader();
        reader.onload = (e)=>{ imageFiles[idx] = e.target.result; refreshImagesCard(); };
        reader.readAsDataURL(f);
      });
    });

    // Small helper: allow forcing time text (but still keeps ticking)
    document.getElementById('forceTime').addEventListener('click', ()=>{
      const v = document.getElementById('timeFormat').value.trim();
      if(v) timeDisplay.textContent = v;
    });

    // Make sure marquee animations restart on resize
    window.addEventListener('resize', ()=>{ restartMarqAnim(); startLeftMarq(); });

    // Initial placeholders
    document.getElementById('avsB').textContent = 'A VS B';
    document.getElementById('lugar').textContent = 'LUGAR ESTADIO';
    document.getElementById('fecha').textContent = (new Date()).toLocaleDateString();

  </script>
  <!-- Enlace para enviar solo la sección 1280x720 -->
  <div style="text-align:center; margin-top:20px;">
    <a href="#" id="exportSectionLink" style="color:blue; text-decoration:underline; font-weight:bold;">Trabajo Echo Por Luis Salas 2025 - Para Canal Patagonia Sport</a>
  </div>


</body>
</html>
